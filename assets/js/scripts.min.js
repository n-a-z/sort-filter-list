const myUrl=new Request("https://dujour.squiz.cloud/developer-challenge/data");async function getData(){fetch(myUrl).then(response=>response.json()).then(data=>{const dataToHtml=data.map(client=>`\n\t\t\t\t\t<tr class="list__row client">\n\t\t\t\t\t\t\t<td class="list__cell client__name><span class="client__value">${client.name}<span></td>\n\t\t\t\t\t\t\t<td class="list__cell client__country"><span class="client__value">${client.country}<span></td>\n\t\t\t\t\t\t\t<td class="list__cell client__industry"><span class="client__value">${client.industry}<span></td>\n\t\t\t\t\t\t\t<td class="list__cell client__employees"><span class="client__value">${client.numberOfEmployees}<span></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t`).join("");document.querySelector("#data").insertAdjacentHTML("beforeend",dataToHtml)}).catch(error=>{console.error("Error:",error)})}getData();let filterCountry=document.getElementById("filterCountry"),filterIndustry=document.getElementById("filterIndustry");function filterDouble(){let filterValueCountry=document.getElementById("filterCountry").value.toLowerCase(),filterValueIndustry=document.getElementById("filterIndustry").value.toLowerCase(),clientsList=document.getElementById("data"),clientsContainer=clientsList.querySelectorAll("tr.client"),clientsLiCountry=clientsList.querySelectorAll("td.client__country"),clientsLiIndustry=clientsList.querySelectorAll("td.client__industry");for(let i=0;i<clientsContainer.length;i++){let spanCountry=clientsLiCountry[i].getElementsByTagName("span")[0],spanIndustry=clientsLiIndustry[i].getElementsByTagName("span")[0];spanCountry.innerHTML.toLowerCase().indexOf(filterValueCountry)>-1&&spanIndustry.innerHTML.toLowerCase().indexOf(filterValueIndustry)>-1?clientsContainer[i].style.display="":clientsContainer[i].style.display="none"}}filterCountry.addEventListener("keyup",filterDouble),filterIndustry.addEventListener("keyup",filterDouble);const sortBtn=document.querySelectorAll(".sort__btn");sortBtn.forEach(item=>{item.addEventListener("click",()=>{document.querySelector(".sort__btn--active")&&document.querySelector(".sort__btn--active").classList.remove("sort__btn--active"),document.querySelector(".sort__btn--up-down")&&document.querySelector(".sort__btn--up-down").classList.remove("sort__btn--up-down"),item.classList.add("sort__btn--active"),item.classList.add("sort__btn--up-down")},!1)});function sortTable(){const getCellValue=(tr,idx)=>tr.children[idx].innerText||tr.children[idx].textContent,comparer=(idx,asc)=>(a,b)=>{return v1=getCellValue(asc?a:b,idx),v2=getCellValue(asc?b:a,idx),""===v1||""===v2||isNaN(v1)||isNaN(v2)?v1.localeCompare(v2):v1-v2;var v1,v2};document.querySelectorAll(".sort__btn").forEach(sort__btn=>sort__btn.addEventListener("click",()=>{document.querySelectorAll("th").forEach(th=>{if(sort__btn.innerText.toLowerCase()===th.innerText.toLowerCase()){const table=document.getElementById("data");Array.from(table.querySelectorAll("tr:nth-child(n+2)")).sort(comparer(Array.from(th.parentNode.children).indexOf(th),this.asc=!this.asc)).forEach(tr=>table.appendChild(tr))}})}))}sortTable();