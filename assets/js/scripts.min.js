const myUrl=new Request("https://dujour.squiz.cloud/developer-challenge/data");async function getData(){fetch(myUrl).then(response=>response.json()).then(data=>{const dataToHtml=data.map(client=>`\n\t\t\t\t\t<tr class="list__row client">\n\t\t\t\t\t\t\t<td class="list__cell client__name><span class="client__value">${client.name}<span></td>\n\t\t\t\t\t\t\t<td class="list__cell client__country"><span class="client__value">${client.country}<span></td>\n\t\t\t\t\t\t\t<td class="list__cell client__industry"><span class="client__value">${client.industry}<span></td>\n\t\t\t\t\t\t\t<td class="list__cell client__employees"><span class="client__value">${client.numberOfEmployees}<span></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t`).join("");document.querySelector("#data").insertAdjacentHTML("beforeend",dataToHtml)}).catch(error=>{console.error("Error:",error)})}getData();let filterCountry=document.getElementById("filterCountry"),filterIndustry=document.getElementById("filterIndustry");function filterDouble(){let filterValueCountry=document.getElementById("filterCountry").value.toLowerCase(),filterValueIndustry=document.getElementById("filterIndustry").value.toLowerCase(),clientsList=document.getElementById("data"),clientsContainer=clientsList.querySelectorAll("tr.client"),clientsLiCountry=clientsList.querySelectorAll("td.client__country"),clientsLiIndustry=clientsList.querySelectorAll("td.client__industry");for(let i=0;i<clientsContainer.length;i++){let spanCountry=clientsLiCountry[i].getElementsByTagName("span")[0],spanIndustry=clientsLiIndustry[i].getElementsByTagName("span")[0];spanCountry.innerHTML.toLowerCase().indexOf(filterValueCountry)>-1&&spanIndustry.innerHTML.toLowerCase().indexOf(filterValueIndustry)>-1?clientsContainer[i].style.display="":clientsContainer[i].style.display="none"}}filterCountry.addEventListener("keyup",filterDouble),filterIndustry.addEventListener("keyup",filterDouble);let sortNameAsc=document.getElementById("sortNameAsc"),sortNameDesc=document.getElementById("sortNameDesc"),sortEmpAsc=document.getElementById("sortEmpAsc"),sortEmpDesc=document.getElementById("sortEmpDesc");function sortTableName(event){let table,rows,switching,i,x,y,shouldSwitch;for(table=document.getElementById("data"),switching=!0;switching;){for(switching=!1,rows=table.rows,i=1;i<rows.length-1;i++)if(shouldSwitch=!1,x=rows[i].getElementsByTagName("td")[0],y=rows[i+1].getElementsByTagName("td")[0],"Asc"===event.target.innerHTML){if(x.innerHTML.toLowerCase()>y.innerHTML.toLowerCase()){sortNameAsc.classList.add("sort__btn--active"),sortNameDesc.classList.remove("sort__btn--active"),sortEmpAsc.classList.remove("sort__btn--active"),sortEmpDesc.classList.remove("sort__btn--active"),shouldSwitch=!0;break}}else if("Desc"===event.target.innerHTML&&x.innerHTML.toLowerCase()<y.innerHTML.toLowerCase()){sortNameAsc.classList.remove("sort__btn--active"),sortNameDesc.classList.add("sort__btn--active"),sortEmpAsc.classList.remove("sort__btn--active"),sortEmpDesc.classList.remove("sort__btn--active"),shouldSwitch=!0;break}shouldSwitch&&(rows[i].parentNode.insertBefore(rows[i+1],rows[i]),switching=!0)}}function sortTableEmp(event){let table,rows,switching,i,x,y,shouldSwitch;for(table=document.getElementById("data"),switching=!0;switching;){for(switching=!1,rows=table.rows,i=1;i<rows.length-1;i++)if(shouldSwitch=!1,x=rows[i].getElementsByTagName("td")[3],y=rows[i+1].getElementsByTagName("td")[3],"Asc"===event.target.innerHTML){if(x.innerHTML.toLowerCase()>y.innerHTML.toLowerCase()){sortNameAsc.classList.remove("sort__btn--active"),sortNameDesc.classList.remove("sort__btn--active"),sortEmpAsc.classList.add("sort__btn--active"),sortEmpDesc.classList.remove("sort__btn--active"),shouldSwitch=!0;break}}else if("Desc"===event.target.innerHTML&&x.innerHTML.toLowerCase()<y.innerHTML.toLowerCase()){shouldSwitch=!0,sortNameAsc.classList.remove("sort__btn--active"),sortNameDesc.classList.remove("sort__btn--active"),sortEmpAsc.classList.remove("sort__btn--active"),sortEmpDesc.classList.add("sort__btn--active");break}shouldSwitch&&(rows[i].parentNode.insertBefore(rows[i+1],rows[i]),switching=!0)}}sortNameAsc.addEventListener("click",sortTableName),sortNameDesc.addEventListener("click",sortTableName),sortEmpAsc.addEventListener("click",sortTableEmp),sortEmpDesc.addEventListener("click",sortTableEmp);